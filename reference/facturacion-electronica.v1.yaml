swagger: '2.0'
info:
  description: Documentación para el API de facturación electrónica de FacturalaYa.
  version: 1.0.0
  title: FacturalaYA API
  contact:
    email: info@facturalaya.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
tags:
  - name: endpoints
    description: Endpoints para consumir nuestra API
paths:
  /facturalaya/boleta:
    post:
      tags:
        - endpoints
      operationId: generarBoleta
      summary: Crear una boleta
      description: Crear una boleta
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          schema:
            $ref: '#/definitions/data'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              name_file_xml_cpe:
                type: string
              name_file_zip_cpe:
                type: string
              ruta_cpe_zip:
                type: string
              file_cpe_zip:
                type: string
              hash_cpe:
                type: string
              cod_sunat:
                type: string
              hash_cdr:
                type: string
              msj_sunat:
                type: string
              name_file_xml_cdr:
                type: string
              name_file_zip_cdr:
                type: string
              ruta_cdr_zip:
                type: string
              file_cdr_zip:
                type: string
              ruta_xml:
                type: string
              ruta_cdr:
                type: string
              ruta_pdf:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
  /facturalaya/factura:
    post:
      tags:
        - endpoints
      summary: Crear una factura
      description: Crear una factura
      operationId: crearFactura
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          schema:
            $ref: '#/definitions/data'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
  '/apisunarp/index/{token_cliente}/{placa}':
    get:
      tags:
        - endpoints
      summary: Consultar Placa Sunarp
      description: Consultar placa Sunarp
      operationId: consultarPlacaSunarp
      parameters:
        - in: path
          name: token_cliente
          type: string
          required: true
        - in: path
          name: placa
          type: string
          required: true
      responses:
        '200':
          description: Ok
          schema:
            $ref: '#/definitions/respuesta_sunarp'
  '/apipersona/busqueda_avanzada/{token_cliente}/{num_doc}':
    get:
      tags:
        - endpoints
      summary: Consultar DNI completo
      description: Consultar DNI completo
      operationId: consultarDNICompleto
      produces:
        - application/json
      parameters:
        - in: path
          name: token_cliente
          required: true
          type: string
          description: Token para consultas
        - in: path
          name: num_doc
          type: string
          required: true
          description: DNI a consultar
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              nombres:
                type: string
              ap_paterno:
                type: string
              ap_materno:
                type: string
              nombre:
                type: string
              dni:
                type: string
              api:
                type: array
                items:
                  type: object
                  properties:
                    dni:
                      type: string
                    ApellidoPaterno:
                      type: string
                    Nombres:
                      type: string
                    FechaNacimiento:
                      type: string
                    Sexo:
                      type: string
                    ApellidoMaterno:
                      type: string
              sexo:
                type: string
              respuesta:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              code:
                type: string
              mensaje:
                type: string
  '/persona/{num_doc}/{token_cliente}':
    get:
      tags:
        - endpoints
      summary: Consultar DNI
      description: Consultar DN
      operationId: consultarDNI
      produces:
        - application/json
      parameters:
        - in: path
          name: token_cliente
          required: true
          type: string
          description: Token para consultas
        - in: path
          name: num_doc
          type: string
          required: true
          description: DNI a consultar
      responses:
        '200':
          description: Ok
          schema:
            $ref: '#/definitions/respuesta_dni'
  '/empresa/{num_doc}/{password}':
    get:
      tags:
        - endpoints
      summary: Consultar RUC
      description: Consultar RUC
      operationId: consultarRUC
      produces:
        - application/json
      parameters:
        - in: path
          name: password
          required: true
          type: string
        - in: path
          name: num_doc
          type: string
          required: true
          description: DNI a consultar
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
  /facturalaya/consulta_ticket:
    post:
      tags:
        - endpoints
      summary: Consultar un ticket
      description: Consultar un ticket
      operationId: consultarTicket
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          schema:
            $ref: '#/definitions/ticket'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
  /facturalaya/asignar_pse_facturalaya:
    post:
      tags:
        - endpoints
      summary: Crear un PSE
      operationId: asignarPSE
      description: Dar de alta PSE
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          schema:
            $ref: '#/definitions/data_pse'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/comunicacion_baja:
    post:
      tags:
        - endpoints
      summary: Dar de baja CPE
      operationId: bajaCPE
      description: Dar de baja un CPE
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: data
          schema:
            $ref: '#/definitions/data_cpe'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/guia_remision:
    post:
      tags:
        - endpoints
      summary: Generar guía de remisión
      description: Generar guía de remisión
      operationId: guiaRemision
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/guia_remision'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/enviar_email_documento:
    post:
      tags:
        - endpoints
      summary: Enviar comprobante por email
      description: Enviar comprobante por email
      operationId: enviarEmail
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/email'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/nota_credito:
    post:
      tags:
        - endpoints
      summary: Generar una nota de crédito
      description: Generar una nota de crédito
      operationId: notaCredito
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/nota_credito'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              name_file_xml_cpe:
                type: string
              name_file_zip_cpe:
                type: string
              ruta_cpe_zip:
                type: string
              file_cpe_zip:
                type: string
              hash_cpe:
                type: string
              cod_sunat:
                type: string
              hash_cdr:
                type: string
              msj_sunat:
                type: string
              name_file_xml_cdr:
                type: string
              name_file_zip_cdr:
                type: string
              ruta_cdr_zip:
                type: string
              file_cdr_zip:
                type: string
              ruta_xml:
                type: string
              ruta_cdr:
                type: string
              ruta_pdf:
                type: string
        '400':
          description: Error
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/nota_debito:
    post:
      tags:
        - endpoints
      summary: Generar una nota de débito
      description: Generar una nota de débito
      operationId: notaDebito
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/nota_debito'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/recuperar_cpe:
    post:
      tags:
        - endpoints
      summary: Recuperar CPE
      description: Recuperar CPE
      operationId: recuperarCPE
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/cpe_recover'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/recuperar_cdr:
    post:
      tags:
        - endpoints
      summary: Recuperar CDR
      description: Recuperar CDR
      operationId: recuperarCDR
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/cdr_recover'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
  /facturalaya/resumen_boletas:
    post:
      tags:
        - endpoints
      summary: Resumen boletas
      description: Resumen boletas
      operationId: resumenBoletas
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - in: body
          name: data
          required: true
          schema:
            $ref: '#/definitions/resumen_boleta'
      responses:
        '200':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              codigo:
                type: string
              titulo:
                type: string
              mensaje:
                type: string
        '400':
          description: Ok
          schema:
            type: object
            properties:
              respuesta:
                type: string
              titulo:
                type: string
              cod_error:
                type: string
              mensaje:
                type: string
definitions:
  detalle_boleta:
    type: array
    x-tags:
      - Modelos
    items:
      type: object
      properties:
        ITEM_DET:
          type: number
          format: integer
        TIPO_COMPROBANTE:
          type: string
        NRO_COMPROBANTE:
          type: string
        NRO_DOCUMENTO:
          type: string
        TIPO_DOCUMENTO:
          type: string
        NRO_COMPROBANTE_REF:
          type: string
        TIPO_COMPROBANTE_REF:
          type: string
        STATUS:
          type: number
          format: integer
          enum:
            - 1
            - 2
            - 3
          description: '1 -> Adicionar, 2 -> Modificar, 3 -> Anulado'
        COD_MONEDA:
          type: string
        TOTAL:
          type: number
          format: double
        GRAVADA:
          type: number
          format: double
        EXONERADO:
          type: number
          format: double
        INAFECTO:
          type: number
          format: double
        EXPORTACION:
          type: number
          format: double
        ICBPER:
          type: number
          format: double
        GRATUITAS:
          type: number
          format: double
        IGV:
          type: number
          format: double
        MONTO_CARGO_X_ASIG:
          type: string
        CARGO_X_ASIGNACION:
          type: string
        ISC:
          type: number
          format: float
        OTROS:
          type: number
          format: float
      required:
        - ITEM_DET
        - TIPO_COMPROBANTE
        - NRO_COMPROBANTE
        - NRO_DOCUMENTO
        - TIPO_DOCUMENTO
        - NRO_COMPROBANTE_REF
        - TIPO_COMPROBANTE_REF
        - STATUS
        - COD_MONEDA
        - TOTAL
        - GRAVADA
        - EXONERADO
        - INAFECTO
        - EXPORTACION
        - ICBPER
        - GRATUITAS
        - IGV
        - MONTO_CARGO_X_ASIG
        - CARGO_X_ASIGNACION
        - ISC
        - OTROS
  resumen_boleta:
    type: object
    x-tags:
      - Modelos
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      codigo:
        type: string
      serie:
        type: string
      secuencia:
        type: number
        format: integer
      fecha_referencia:
        type: string
        format: date
      fecha_documento:
        type: string
        format: date
      detalle:
        $ref: '#/definitions/detalle_boleta'
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - codigo
      - serie
      - secuencia
      - fecha_referencia
      - fecha_documento
      - detalle
  cdr_recover:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      documento:
        $ref: '#/definitions/documento_cdr'
    x-tags:
      - Modelos
  documento_cdr:
    type: object
    properties:
      tipo_comprobate:
        type: string
      serie_comprobante:
        type: string
      numero_comprobante:
        type: string
    required:
      - tipo_comprobante
      - serie_comprobante
      - numero_comprobante
    x-tags:
      - Modelos
  receptor_cpe:
    type: object
    properties:
      ruc:
        type: string
        description: RUC del contribuyente (tu cliente)
      tipo_doc:
        type: string
        example: '6'
        description: 'No cambiar (6 -> RUC)'
    required:
      - ruc
      - tipo_doc
    x-tags:
      - Modelos
  cpe_recover:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      receptor:
        $ref: '#/definitions/receptor_cpe'
      ruc_emisor:
        type: string
      serie:
        type: string
      correlativo:
        type: string
      sol_ruc:
        type: string
      sol_user:
        type: string
      sol_password:
        type: string
    x-tags:
      - Modelos
  nota_debito:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cliente:
        $ref: '#/definitions/cliente'
      detalle:
        $ref: '#/definitions/detalle'
      tipo_operacion:
        type: string
      total_gravadas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_inafecta:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exoneradas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_gratuitas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exportacion:
        type: number
        format: float
        description: Igual o mayor a cero
      total_isc:
        type: number
        format: float
        description: Por defecto es 0
      total_icbper:
        type: number
        format: float
        description: Por defecto es 0
      total_otr_imp:
        type: number
        format: float
        description: Por defecto es 0
      total_descuento:
        type: number
        format: float
      impuesto_icbper:
        type: number
        format: float
        description: 'El impuesto del icbper de acuerdo al año (2019 -> S/. 0.10, 2020 -> S/. 0.2, 2021 -> S/. 0.3)'
      porcentaje_igv:
        type: number
        format: float
        description: Porcentaje del IGV
      total_igv:
        type: number
        format: float
        description: El monto total de IGV
      sub_total:
        type: number
        format: float
        description: Total sin IGV
      total:
        type: number
        format: float
        description: El total del documento
      total_letras:
        type: string
      docs_referencia:
        $ref: '#/definitions/docs_referencia'
      nro_otr_comprobante:
        type: string
      transporte_nro_placa:
        type: string
      cod_moneda:
        type: string
        example: PEN
      fecha_comprobante:
        type: string
        format: date
      fecha_vto_comprobante:
        type: string
        format: date
      cod_tipo_documento:
        type: string
      serie_comprobante:
        type: string
      numero_comprobante:
        type: number
        format: integer
      tipo_comprobante_modifica:
        type: string
      nro_documento_modifica:
        type: string
      cod_tipo_motivo:
        type: string
      descripcion_motivo:
        type: string
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cliente
      - detalle
      - tipo_operacion
      - total_gravadas
      - total_inafecta
      - total_exoneradas
      - total_gratuitas
      - total_exportacion
      - total_isc
      - total_icbper
      - total_otr_imp
      - total_descuento
      - impuesto_icbper
      - porcentaje_igv
      - total_igv
      - sub_total
      - total
      - cod_moneda
      - fecha_comprobante
      - fecha_vto_comprobante
      - cod_tipo_documento
      - serie_comprobante
      - numero_comprobante
      - tipo_comprobante_modifica
      - nro_documento_modifica
      - cod_tipo_motivo
      - descripcion_motivo
    x-tags:
      - Modelos
    description: ''
  nota_credito:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cliente:
        $ref: '#/definitions/cliente'
      detalle:
        $ref: '#/definitions/detalle'
      tipo_operacion:
        type: string
      total_gravadas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_inafecta:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exoneradas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_gratuitas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exportacion:
        type: number
        format: float
        description: Igual o mayor a cero
      total_isc:
        type: number
        format: float
        description: Por defecto es 0
      total_icbper:
        type: number
        format: float
        description: Por defecto es 0
      total_otr_imp:
        type: number
        format: float
        description: Por defecto es 0
      total_descuento:
        type: number
        format: float
      impuesto_icbper:
        type: number
        format: float
        description: 'El impuesto del icbper de acuerdo al año (2019 -> S/. 0.10, 2020 -> S/. 0.2, 2021 -> S/. 0.3)'
      porcentaje_igv:
        type: number
        format: float
        description: Porcentaje del IGV
      total_igv:
        type: number
        format: float
        description: El monto total de IGV
      sub_total:
        type: number
        format: float
        description: Total sin IGV
      total:
        type: number
        format: float
        description: El total del documento
      total_letras:
        type: string
      docs_referencia:
        $ref: '#/definitions/docs_referencia'
      nro_otr_comprobante:
        type: string
      transporte_nro_placa:
        type: string
      cod_moneda:
        type: string
        example: PEN
      fecha_comprobante:
        type: string
        format: date
      fecha_vto_comprobante:
        type: string
        format: date
      cod_tipo_documento:
        type: string
      serie_comprobante:
        type: string
      numero_comprobante:
        type: number
        format: integer
      tipo_comprobante_modifica:
        type: string
      nro_documento_modifica:
        type: string
      cod_tipo_motivo:
        type: string
      descripcion_motivo:
        type: string
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cliente
      - detalle
      - tipo_operacion
      - total_gravadas
      - total_inafecta
      - total_exoneradas
      - total_gratuitas
      - total_exportacion
      - total_isc
      - total_icbper
      - total_otr_imp
      - total_descuento
      - impuesto_icbper
      - porcentaje_igv
      - total_igv
      - sub_total
      - total
      - cod_moneda
      - fecha_comprobante
      - fecha_vto_comprobante
      - cod_tipo_documento
      - serie_comprobante
      - numero_comprobante
      - tipo_comprobante_modifica
      - nro_documento_modifica
      - cod_tipo_motivo
      - descripcion_motivo
    x-tags:
      - Modelos
  guia_remision:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cliente:
        $ref: '#/definitions/cliente'
      detalle:
        $ref: '#/definitions/detalle_guia'
      id_motivotraslado:
        type: string
      motivo_traslado:
        type: string
      peso:
        type: number
        format: float
      numero_paquetes:
        type: number
        format: integer
      id_codigopuerto:
        type: string
      numero_contenedor:
        type: string
      id_modalidadtraslado:
        type: string
      fecha_traslado:
        type: string
        format: date
      id_tipo_documento_transporte:
        type: string
        enum:
          - '1'
          - '6'
      nro_documento_transporte:
        type: string
      razon_social_transporte:
        type: string
      transporte_nro_placa:
        type: string
      dir_destino:
        type: string
      id_ubigeo_partida:
        type: string
      dir_partida:
        type: string
      nota:
        type: string
      docs_referencia:
        $ref: '#/definitions/docs_referencia'
      serie_comprobante:
        type: string
      numero_comprobante:
        type: string
      fecha_comprobante:
        type: string
        format: date
      cod_tipo_documento:
        type: string
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cliente
      - detalle
      - id_motivotraslado
      - motivo_traslado
      - peso
      - numero_paquetes
      - id_modalidadtraslado
      - fecha_traslado
      - id_tipo_documento_transporte
      - nro_documento_transporte
      - razon_social_transporte
      - dir_destino
      - id_ubigeo_partida
      - dir_partida
      - nota
      - serie_comprobante
      - numero_comprobante
      - fecha_comprobante
      - cod_tipo_documento
    x-tags:
      - Modelos
  detalle_guia:
    type: array
    items:
      type: object
      properties:
        ITEM_DET:
          type: string
        UNIDAD_MEDIDA_DET:
          type: string
        CANTIDAD_DET:
          type: number
          format: float
        CODIGO_PRODUCTO:
          type: string
        DESCRIPCION_DET:
          type: string
        PESO_DET:
          type: number
          format: float
      required:
        - ITEM_DET
        - UNIDAD_MEDIDA_DET
        - CANTIDAD_DET
        - CODIGO_PRODUCTO
        - DESCRIPCION_DET
        - PESO_DET
    x-tags:
      - Modelos
  email:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      emisor:
        type: string
      emisor_idcontribuyente:
        type: string
      emisor_email:
        type: string
      emisor_razon_social:
        type: string
      emisor_num_doc:
        type: string
        description: RUC de la empresa
      cliente_email:
        type: string
      cliente_razon_social:
        type: string
      documento_nombre:
        type: string
      documento_serie_numero:
        type: string
      documento_fecha:
        type: string
      documento_total:
        type: number
        format: float
      documento_moneda:
        type: string
        enum:
          - USD
          - PEN
      documento_pdf_a4:
        type: string
      documento_pdf_ticket:
        type: string
      documento_xml:
        type: string
      accion:
        type: string
    required:
      - token_cliente
      - ruc_proveedor
      - asunto
      - emisor_email
      - emisor_razon_social
      - emisor_num_doc
      - cliente_email
      - cliente_razon_social
      - documento_nombre
      - documento_serie_numero
      - documento_fecha
      - documento_total
      - documento_moneda
      - documento_pdf_a4
      - documento_pdf_ticket
      - documento_xml
      - accion
    x-tags:
      - Modelos
  cliente:
    type: object
    properties:
      cliente_tipodocumento:
        type: string
        description: Código del tipo de documento
      cliente_numerodocumento:
        type: string
        description: 'Si es RUC -> 11 dígitos, si es DNI -> 8 digitos, si es OTRO DOC -> 8 ceros o un guión'
      cliente_nombre:
        type: string
        description: Razón social de empresa o nombre del cliente
      cliente_direccion:
        type: string
        description: Obligatorio solo con RUC
      cliente_pais:
        type: string
      cliente_ciudad:
        type: string
      cliente_codigoubigeo:
        type: string
        description: Obligatorio solo con RUC
      cliente_departament:
        type: string
      cliente_provincia:
        type: string
      cliente_distrito:
        type: string
    required:
      - cliente_tipodocumento
      - cliente_numerodocumento
      - cliente_nombre
      - cliente_pais
    x-tags:
      - Modelos
  docs_referencia:
    type: array
    items:
      type: object
      properties:
        id_tipodoc_electronico:
          type: string
        serie_comprobante:
          type: string
        numero_comprobante:
          type: string
      required:
        - id_tipodoc_electronico
        - serie_comprobante
        - numero_comprobante
    x-tags:
      - Modelos
  detalle:
    type: array
    items:
      type: object
      properties:
        ITEM_DET:
          type: string
          description: 'Correlativo, empezando en 1 para el primer Item'
        UNIDAD_MEDIDA_DET:
          type: string
        PRECIO_TIPO_CODIGO:
          type: string
        COD_TIPO_OPERACION_DET:
          type: string
        CANTIDAD_DET:
          type: number
          format: float
          description: Cantidad vendida
        PRECIO_DET:
          type: number
          format: float
          description: Valor del Producto. Mayor a Cero y hasta 10 decimales
        IGV_DET:
          type: number
          format: float
          description: 'valor IGV. Hasta 2 decimales, debe ser mayora cero para operaciones gravadas'
        ICBPER_DET:
          type: number
          format: float
          description: Impuesto ICBPER
        ISC_DET:
          type: number
          format: float
          description: Impuesto Selectivo al Consumo
        PRECIO_SIN_IGV_DET:
          type: number
          format: float
          description: Valor del producto sin IGV
        IMPORTE_DET:
          type: number
          format: float
          description: Importe sin IGV (cantidad x precio_sin_igv_det)
        CODIGO_DET:
          type: string
          description: 'Código interno del producto, entre 1 y 30 caracteres'
        DESCRIPCION_DET:
          type: string
          description: Nombre del producto hasta 300 caracteres
        DESCUENTO_ITEM:
          type: string
          enum:
            - si
            - 'no'
          description: 'Si tiene descuento por item debe indicar "si", y deben llenarse los demás campos'
        PORCENTAJE_DESCUENTO:
          type: number
          format: float
          description: 'Porcentaje, ejem. 10 (para 10%), 20 (para 20%) (si es CERO se condisera que no existe descuento por ITEM) (máximo dos decimiales)'
        MONTO_DESCUENTO:
          type: number
          format: float
          description: Máximo dos decimales
        CODIGO_DESCUENTO:
          type: string
          description: Código de descuento según tabla N° 53 (normalmente es 00)
      required:
        - ITEM_DET
        - UNIDAD_MEDIDA_DET
        - PRECIO_TIPO_CODIGO
        - COD_TIPO_OPERACION_DET
        - CANTIDAD_DET
        - PRECIO_DET
        - IGV_DET
        - ICBPER_DET
        - ISC_DET
        - PRECIO_SIN_IGV_DET
        - IMPORTE_DET
        - CODIGO_DET
        - DESCRIPCION_DET
        - DESCUENTO_ITEM
        - PORCENTAJE_DESCUENTO
        - MONTO_DESCUENTO
        - CODIGO_DESCUENTO
    x-tags:
      - Modelos
  data:
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cliente:
        $ref: '#/definitions/cliente'
      detalle:
        $ref: '#/definitions/detalle'
      docs_referencia:
        $ref: '#/definitions/docs_referencia'
      tipo_operacion:
        type: string
      total_gravadas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_inafecta:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exoneradas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_gratuitas:
        type: number
        format: float
        description: Igual o mayor a cero
      total_exportacion:
        type: number
        format: float
        description: Igual o mayor a cero
      total_isc:
        type: number
        format: float
        description: Por defecto es 0
      total_icbper:
        type: number
        format: float
        description: Por defecto es 0
      total_otr_imp:
        type: number
        format: float
        description: Por defecto es 0
      total_descuento:
        type: number
        format: float
      impuesto_icbper:
        type: number
        format: float
        description: 'El impuesto del icbper de acuerdo al año (2019 -> S/. 0.10, 2020 -> S/. 0.2, 2021 -> S/. 0.3)'
      porcentaje_igv:
        type: number
        format: float
        description: Porcentaje del IGV
      total_igv:
        type: number
        format: float
        description: El monto total de IGV
      sub_total:
        type: number
        format: float
        description: Total sin IGV
      total:
        type: number
        format: float
        description: El total del documento
      total_letras:
        type: string
      nro_otr_comprobante:
        type: string
      transporte_nro_placa:
        type: string
      cod_moneda:
        type: string
      cod_sucursal_sunat:
        type: string
        description: 'Aquí se debe ubicar el código de la sucursal declarada en sunat, en caso de que no tengas ninguna sucursal entonces se debe colocar "0000"'
      fecha_comprobante:
        type: string
        format: date
        description: Formato Y-m-d
      fecha_vto_comprobante:
        type: string
        format: date
        description: Formato Y-m-d
      cod_tipo_documento:
        type: string
      serie_comprobante:
        type: string
      numero_comprobante:
        type: integer
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cliente
      - detalle
      - tipo_operacion
      - total_gravadas
      - total_inafecta
      - total_exoneradas
      - total_gratuitas
      - total_exportacion
      - total_isc
      - total_icbper
      - total_otr_imp
      - total_descuento
      - impuesto_icbper
      - porcentaje_igv
      - total_igv
      - sub_total
      - total
      - cod_moneda
      - cod_sucursal_sunat
      - fecha_comprobante
      - fecha_vto_comprobante
      - cod_tipo_documento
      - serie_comprobante
      - numero_comprobante
    x-tags:
      - Modelos
  data_pse:
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - ruc_cliente
      - usuario_sol_cliente
      - password_sol_cliente
    type: object
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      ruc_cliente:
        type: string
      usuario_sol_cliente:
        type: string
      password_sol_cliente:
        type: string
    x-tags:
      - Modelos
  data_cpe:
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cabecera
      - detalle
    properties:
      token_cliente:
        type: string
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cabecera:
        $ref: '#/definitions/cabecera_cpe'
      detalle:
        $ref: '#/definitions/detalle_cpe'
    x-tags:
      - Modelos
  cabecera_cpe:
    required:
      - codigo
      - serie
      - secuencia
      - fecha_referencia
      - fecha_baja
    properties:
      codigo:
        type: string
        example: RA
      serie:
        type: string
        description: 'La serie se genera con el AÑO, MES, DÍA, todo junto sin espacios'
      secuencia:
        type: number
        format: integer
        description: La secuencia es diaria
      fecha_referencia:
        type: string
        format: date
      fecha_baja:
        type: string
        format: date
    x-tags:
      - Modelos
  detalle_cpe:
    type: array
    items:
      type: object
      properties:
        ITEM_DET:
          type: number
          format: integer
        TIPO_COMPROBANTE:
          type: string
        SERIE:
          type: string
        NUMERO:
          type: number
          format: integer
        MOTIVO:
          type: string
          description: 'Aquí el motivo de la comunicación de baja, puede ser -> Error en el RUC, Error en la generación del comprobante, etc.'
      required:
        - ITEM_DET
        - TIPO_COMPROBANTE
        - SERIE
        - NUMERO
        - MOTIVO
    x-tags:
      - Modelos
  emisor:
    properties:
      ruc:
        type: string
        description: 'RUC del contribuyente, de tu cliente'
      tipo_doc:
        type: string
        example: '6'
        description: 'No cambiar (6-> RUC)'
      email:
        type: string
      nom_comercial:
        type: string
      razon_social:
        type: string
      codigo_ubigeo:
        type: string
      direccion:
        type: string
      modalidad_envio_sunat:
        type: string
        example: inmediato
        description: No cambiar
      direccion_departamento:
        type: string
        description: Del Ubigeo
      direccion_provincia:
        type: string
        description: Del Ubigeo
      direccion_distrito:
        type: string
        description: Del Ubigeo
      direccion_codigopais:
        type: string
        example: PE
        description: No cambiar
    required:
      - ruc
      - tipo_doc
      - email
      - nom_comercial
      - razon_social
      - codigo_ubigeo
      - direccion
      - modalidad_envio_sunat
      - direccion_departamento
      - direccion_provincia
      - direccion_distrito
      - direccion_codigopais
    x-tags:
      - Modelos
  secret_data:
    properties:
      tipo_certificado:
        type: string
        example: pse_facturalaya
        description: No cambiar
      tipo_proceso:
        type: string
        description: Cambiar para selecionar prueba o producción
        enum:
          - prueba
          - produccion
    required:
      - tipo_certificado
      - tipo_proceso
    x-tags:
      - Modelos
  respuesta_dni:
    properties:
      nombres:
        type: string
      ap_paterno:
        type: string
      ap_materno:
        type: string
      nombre:
        type: string
      dni:
        type: string
      api:
        $ref: '#/definitions/api'
      respuesta:
        type: string
  api:
    properties:
      success:
        type: boolean
      result:
        $ref: '#/definitions/result'
      images:
        $ref: '#/definitions/images'
    x-tags:
      - Modelos
  result:
    properties:
      nuDni:
        type: string
      apePaterno:
        type: string
      apeMaterno:
        type: string
      preNombres:
        type: string
      inCel:
        type: string
      digitoVerificacion:
        type: string
      tipoFicha:
        type: string
      tipoFichaImag:
        type: string
      coRestriccion:
        type: string
      grRestriccion:
        type: string
      deCel:
        type: string
      nuDatos:
        type: string
      nuImagen:
        type: string
      feNacimiento:
        type: string
      nuEdad:
        type: string
      nuDocPadre:
        type: string
      coTipoDocPadre:
        type: string
      nuDocMadre:
        type: string
      coTipoDocMadre:
        type: string
      nuDocDeclarante:
        type: string
      coTipoDeclarante:
        type: string
      deGenero:
        type: string
      estatura:
        type: string
      sexo:
        type: string
      estadoCivil:
        type: string
      gradoInstruccion:
        type: string
      feEmision:
        type: string
      feInscripcion:
        type: string
      nomPadre:
        type: string
      nomMadre:
        type: string
      cancelacion:
        type: string
      departamento:
        type: string
      provincia:
        type: string
      distrito:
        type: string
      depaDireccion:
        type: string
      provDireccion:
        type: string
      distDireccion:
        type: string
      feFallecimiento:
        type: string
      depaFallecimiento:
        type: string
      provFallecimiento:
        type: string
      distFallecimiento:
        type: string
      feCaducidad:
        type: string
      donaOrganosglosaInfo:
        type: string
      observacion:
        type: string
      vinculoDeclarante:
        type: string
      nomDeclarante:
        type: string
      deRestriccion:
        type: string
      coDocEmi:
        type: string
      desDireccion:
        type: string
      coTipoDoc:
        type: string
      apCasada:
        type: string
      inGrupoRestri:
        type: string
    x-tags:
      - Modelos
  images:
    type: object
    properties:
      foto:
        type: string
      firma:
        type: string
      hizquierda:
        type: string
      hderecha:
        type: string
    x-tags:
      - Modelos
  ticket:
    x-tags:
      - Modelos
    type: object
    properties:
      token_cliente:
        type: string
        description: Token para consultas
      ruc_proveedor:
        type: string
      secret_data:
        $ref: '#/definitions/secret_data'
      emisor:
        $ref: '#/definitions/emisor'
      cod_ticket:
        type: string
        description: Número del ticket
      codigo:
        type: string
        enum:
          - RC
          - RA
        description: Si fuese ticket de una comunicación de baja seria RA
      serie:
        type: string
        description: Fecha con el formato Ymd
    required:
      - token_cliente
      - ruc_proveedor
      - secret_data
      - emisor
      - cod_ticket
      - codigo
      - serie
  respuesta_sunarp:
    type: object
    properties:
      api:
        $ref: '#/definitions/api_sunarp'
    x-tags:
      - Modelos
  api_sunarp:
    type: object
    properties:
      success:
        type: boolean
      message:
        type: string
      result:
        $ref: '#/definitions/result_sunarp'
    x-tags:
      - Modelos
  result_sunarp:
    type: array
    items:
      type: object
      properties:
        Propietario:
          type: string
        Descripcion:
          type: string
        Placa:
          type: string
        Documento:
          type: string
        Tarjeta:
          type: string
        Fecha:
          type: string
        Serie:
          type: string
        Direccion:
          type: string
        Marca:
          type: string
        TituloAnio:
          type: string
        TituloNro:
          type: string
        TipoPropietario:
          type: string
        Modelo:
          type: string
        Combustible:
          type: string
        Carroceria:
          type: string
        Motor:
          type: string
        Anio:
          type: string
        Clase:
          type: string
        Color:
          type: string
        Cilindros:
          type: string
        Asientos:
          type: string
        Pasajeros:
          type: string
        Puertas:
          type: string
        Ruedas:
          type: string
        Longitud:
          type: string
        Ancho:
          type: string
        Altura:
          type: string
        PesoBruto:
          type: string
        Estado:
          type: string
    x-tags:
      - Modelos
schemes:
  - https
host: facturalahoy.com
basePath: /api
produces:
  - application/json
consumes:
  - application/json
